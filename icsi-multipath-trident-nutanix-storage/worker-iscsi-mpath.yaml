apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  labels:
    machineconfiguration.openshift.io/role: worker
  name: 90-worker-mpath
spec:
  config:
    ignition:
      version: 3.2.0
    storage:
      files:
      - contents:
          source: data:,%23%0A%23%20Open-iSCSI%20default%20configuration.%0A%23%20Could%20be%20located%20at%20/etc/iscsi/iscsid.conf%20or%20%7E/.iscsid.conf%0A%23%0A%23%20Note%3A%20To%20set%20any%20of%20these%20values%20for%20a%20specific%20node/session%20run%0A%23%20the%20iscsiadm%20--mode%20node%20--op%20command%20for%20the%20value.%20See%20the%20README%0A%23%20and%20man%20page%20for%20iscsiadm%20for%20details%20on%20the%20--op%20command.%0A%23%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20iscsid%20daemon%20config%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%0A%23%20If%20you%20want%20iscsid%20to%20start%20the%20first%20time%20an%20iscsi%20tool%0A%23%20needs%20to%20access%20it%2C%20instead%20of%20starting%20it%20when%20the%20init%0A%23%20scripts%20run%2C%20set%20the%20iscsid%20startup%20command%20here.%20This%0A%23%20should%20normally%20only%20need%20to%20be%20done%20by%20distro%20package%0A%23%20maintainers.%20If%20you%20leave%20the%20iscsid%20daemon%20running%20all%0A%23%20the%20time%20then%20leave%20this%20attribute%20commented%20out.%0A%23%0A%23%20Default%20for%20Fedora%20and%20RHEL.%20%28uncomment%20to%20activate%29.%0Aiscsid.startup%20%3D%20/bin/systemctl%20start%20iscsid.socket%20iscsiuio.socket%0A%23%0A%23%20Default%20if%20you%20are%20not%20using%20systemd%20%28uncomment%20to%20activate%29%0A%23%20iscsid.startup%20%3D%20/usr/bin/service%20start%20iscsid%0A%0A%23%20Check%20for%20active%20mounts%20on%20devices%20reachable%20through%20a%20session%0A%23%20and%20refuse%20to%20logout%20if%20there%20are%20any.%20%20Defaults%20to%20%22No%22.%0A%23%20iscsid.safe_logout%20%3D%20Yes%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20NIC/HBA%20and%20driver%20settings%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20open-iscsi%20can%20create%20a%20session%20and%20bind%20it%20to%20a%20NIC/HBA.%0A%23%20To%20set%20this%20up%20see%20the%20example%20iface%20config%20file.%0A%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%20Startup%20settings%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%0A%23%20To%20request%20that%20the%20iscsi%20initd%20scripts%20startup%20a%20session%20set%20to%20%22automatic%22.%0A%23%20node.startup%20%3D%20automatic%0A%23%0A%23%20To%20manually%20startup%20the%20session%20set%20to%20%22manual%22.%20The%20default%20is%20automatic.%0Anode.startup%20%3D%20automatic%0A%0A%23%20For%20%22automatic%22%20startup%20nodes%2C%20setting%20this%20to%20%22Yes%22%20will%20try%20logins%20on%20each%0A%23%20available%20iface%20until%20one%20succeeds%2C%20and%20then%20stop.%20%20The%20default%20%22No%22%20will%20try%0A%23%20logins%20on%20all%20available%20ifaces%20simultaneously.%0Anode.leading_login%20%3D%20No%0A%0A%23%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%20CHAP%20Settings%0A%23%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%0A%23%20To%20enable%20CHAP%20authentication%20set%20node.session.auth.authmethod%0A%23%20to%20CHAP.%20The%20default%20is%20None.%0A%23node.session.auth.authmethod%20%3D%20CHAP%0A%0A%23%20To%20set%20a%20CHAP%20username%20and%20password%20for%20initiator%0A%23%20authentication%20by%20the%20target%28s%29%2C%20uncomment%20the%20following%20lines%3A%0A%23node.session.auth.username%20%3D%20username%0A%23node.session.auth.password%20%3D%20password%0A%0A%23%20To%20set%20a%20CHAP%20username%20and%20password%20for%20target%28s%29%0A%23%20authentication%20by%20the%20initiator%2C%20uncomment%20the%20following%20lines%3A%0A%23node.session.auth.username_in%20%3D%20username_in%0A%23node.session.auth.password_in%20%3D%20password_in%0A%0A%23%20To%20enable%20CHAP%20authentication%20for%20a%20discovery%20session%20to%20the%20target%0A%23%20set%20discovery.sendtargets.auth.authmethod%20to%20CHAP.%20The%20default%20is%20None.%0A%23discovery.sendtargets.auth.authmethod%20%3D%20CHAP%0A%0A%23%20To%20set%20a%20discovery%20session%20CHAP%20username%20and%20password%20for%20the%20initiator%0A%23%20authentication%20by%20the%20target%28s%29%2C%20uncomment%20the%20following%20lines%3A%0A%23discovery.sendtargets.auth.username%20%3D%20username%0A%23discovery.sendtargets.auth.password%20%3D%20password%0A%0A%23%20To%20set%20a%20discovery%20session%20CHAP%20username%20and%20password%20for%20target%28s%29%0A%23%20authentication%20by%20the%20initiator%2C%20uncomment%20the%20following%20lines%3A%0A%23discovery.sendtargets.auth.username_in%20%3D%20username_in%0A%23discovery.sendtargets.auth.password_in%20%3D%20password_in%0A%0A%23%20%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%20Timeouts%0A%23%20%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%0A%23%20See%20the%20iSCSI%20README%27s%20Advanced%20Configuration%20section%20for%20tips%0A%23%20on%20setting%20timeouts%20when%20using%20multipath%20or%20doing%20root%20over%20iSCSI.%0A%23%0A%23%20To%20specify%20the%20length%20of%20time%20to%20wait%20for%20session%20re-establishment%0A%23%20before%20failing%20SCSI%20commands%20back%20to%20the%20application%20when%20running%0A%23%20the%20Linux%20SCSI%20Layer%20error%20handler%2C%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%20120%20seconds.%0A%23%20Special%20values%3A%0A%23%20-%20If%20the%20value%20is%200%2C%20IO%20will%20be%20failed%20immediately.%0A%23%20-%20If%20the%20value%20is%20less%20than%200%2C%20IO%20will%20remain%20queued%20until%20the%20session%0A%23%20is%20logged%20back%20in%2C%20or%20until%20the%20user%20runs%20the%20logout%20command.%0Anode.session.timeo.replacement_timeout%20%3D%20120%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20login%20to%20complete%2C%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%2015%20seconds.%0Anode.conn%5B0%5D.timeo.login_timeout%20%3D%2015%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20logout%20to%20complete%2C%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%2015%20seconds.%0Anode.conn%5B0%5D.timeo.logout_timeout%20%3D%2015%0A%0A%23%20Time%20interval%20to%20wait%20for%20on%20connection%20before%20sending%20a%20ping.%0Anode.conn%5B0%5D.timeo.noop_out_interval%20%3D%205%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20a%20Nop-out%20response%20before%20failing%0A%23%20the%20connection%2C%20edit%20this%20line.%20Failing%20the%20connection%20will%0A%23%20cause%20IO%20to%20be%20failed%20back%20to%20the%20SCSI%20layer.%20If%20using%20dm-multipath%0A%23%20this%20will%20cause%20the%20IO%20to%20be%20failed%20to%20the%20multipath%20layer.%0Anode.conn%5B0%5D.timeo.noop_out_timeout%20%3D%205%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20abort%20response%20before%0A%23%20failing%20the%20operation%20and%20trying%20a%20logical%20unit%20reset%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%2015%20seconds.%0Anode.session.err_timeo.abort_timeout%20%3D%2015%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20a%20logical%20unit%20response%0A%23%20before%20failing%20the%20operation%20and%20trying%20session%20re-establishment%0A%23%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%2030%20seconds.%0Anode.session.err_timeo.lu_reset_timeout%20%3D%2030%0A%0A%23%20To%20specify%20the%20time%20to%20wait%20for%20a%20target%20response%0A%23%20before%20failing%20the%20operation%20and%20trying%20session%20re-establishment%0A%23%20edit%20the%20line.%0A%23%20The%20value%20is%20in%20seconds%20and%20the%20default%20is%2030%20seconds.%0Anode.session.err_timeo.tgt_reset_timeout%20%3D%2030%0A%0A%0A%23%2A%2A%2A%2A%2A%2A%0A%23%20Retry%0A%23%2A%2A%2A%2A%2A%2A%0A%0A%23%20To%20specify%20the%20number%20of%20times%20iscsid%20should%20retry%20a%20login%0A%23%20if%20the%20login%20attempt%20fails%20due%20to%20the%20node.conn%5B0%5D.timeo.login_timeout%0A%23%20expiring%20modify%20the%20following%20line.%20Note%20that%20if%20the%20login%20fails%0A%23%20quickly%20%28before%20node.conn%5B0%5D.timeo.login_timeout%20fires%29%20because%20the%20network%0A%23%20layer%20or%20the%20target%20returns%20an%20error%2C%20iscsid%20may%20retry%20the%20login%20more%20than%0A%23%20node.session.initial_login_retry_max%20times.%0A%23%0A%23%20This%20retry%20count%20along%20with%20node.conn%5B0%5D.timeo.login_timeout%0A%23%20determines%20the%20maximum%20amount%20of%20time%20iscsid%20will%20try%20to%0A%23%20establish%20the%20initial%20login.%20node.session.initial_login_retry_max%20is%0A%23%20multiplied%20by%20the%20node.conn%5B0%5D.timeo.login_timeout%20to%20determine%20the%0A%23%20maximum%20amount.%0A%23%0A%23%20The%20default%20node.session.initial_login_retry_max%20is%208%20and%0A%23%20node.conn%5B0%5D.timeo.login_timeout%20is%2015%20so%20we%20have%3A%0A%23%0A%23%20node.conn%5B0%5D.timeo.login_timeout%20%2A%20node.session.initial_login_retry_max%20%3D%0A%23%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20120%20seconds%0A%23%0A%23%20Valid%20values%20are%20any%20integer%20value.%20This%20only%0A%23%20affects%20the%20initial%20login.%20Setting%20it%20to%20a%20high%20value%20can%20slow%0A%23%20down%20the%20iscsi%20service%20startup.%20Setting%20it%20to%20a%20low%20value%20can%0A%23%20cause%20a%20session%20to%20not%20get%20logged%20into%2C%20if%20there%20are%20distuptions%0A%23%20during%20startup%20or%20if%20the%20network%20is%20not%20ready%20at%20that%20time.%0Anode.session.initial_login_retry_max%20%3D%208%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20session%20and%20device%20queue%20depth%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%23%20To%20control%20how%20many%20commands%20the%20session%20will%20queue%20set%0A%23%20node.session.cmds_max%20to%20an%20integer%20between%202%20and%202048%20that%20is%20also%0A%23%20a%20power%20of%202.%20The%20default%20is%20128.%0Anode.session.cmds_max%20%3D%20128%0A%0A%23%20To%20control%20the%20device%27s%20queue%20depth%20set%20node.session.queue_depth%0A%23%20to%20a%20value%20between%201%20and%201024.%20The%20default%20is%2032.%0Anode.session.queue_depth%20%3D%2032%0A%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%23%20MISC%20SYSTEM%20PERFORMANCE%20SETTINGS%0A%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%0A%0A%23%20For%20software%20iscsi%20%28iscsi_tcp%29%20and%20iser%20%28ib_iser%29%20each%20session%0A%23%20has%20a%20thread%20used%20to%20transmit%20or%20queue%20data%20to%20the%20hardware.%20For%0A%23%20cxgb3i%20you%20will%20get%20a%20thread%20per%20host.%0A%23%0A%23%20Setting%20the%20thread%27s%20priority%20to%20a%20lower%20value%20can%20lead%20to%20higher%20throughput%0A%23%20and%20lower%20latencies.%20The%20lowest%20value%20is%20-20.%20Setting%20the%20priority%20to%0A%23%20a%20higher%20value%2C%20can%20lead%20to%20reduced%20IO%20performance%2C%20but%20if%20you%20are%20seeing%0A%23%20the%20iscsi%20or%20scsi%20threads%20dominate%20the%20use%20of%20the%20CPU%20then%20you%20may%20want%0A%23%20to%20set%20this%20value%20higher.%0A%23%0A%23%20Note%3A%20For%20cxgb3i%20you%20must%20set%20all%20sessions%20to%20the%20same%20value%2C%20or%20the%0A%23%20behavior%20is%20not%20defined.%0A%23%0A%23%20The%20default%20value%20is%20-20.%20The%20setting%20must%20be%20between%20-20%20and%2020.%0Anode.session.xmit_thread_priority%20%3D%20-20%0A%0A%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%20iSCSI%20settings%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%0A%23%20To%20enable%20R2T%20flow%20control%20%28i.e.%2C%20the%20initiator%20must%20wait%20for%20an%20R2T%0A%23%20command%20before%20sending%20any%20data%29%2C%20uncomment%20the%20following%20line%3A%0A%23%0A%23node.session.iscsi.InitialR2T%20%3D%20Yes%0A%23%0A%23%20To%20disable%20R2T%20flow%20control%20%28i.e.%2C%20the%20initiator%20has%20an%20implied%0A%23%20initial%20R2T%20of%20%22FirstBurstLength%22%20at%20offset%200%29%2C%20uncomment%20the%20following%20line%3A%0A%23%0A%23%20The%20defaults%20is%20No.%0Anode.session.iscsi.InitialR2T%20%3D%20No%0A%0A%23%0A%23%20To%20disable%20immediate%20data%20%28i.e.%2C%20the%20initiator%20does%20not%20send%0A%23%20unsolicited%20data%20with%20the%20iSCSI%20command%20PDU%29%2C%20uncomment%20the%20following%20line%3A%0A%23%0A%23node.session.iscsi.ImmediateData%20%3D%20No%0A%23%0A%23%20To%20enable%20immediate%20data%20%28i.e.%2C%20the%20initiator%20sends%20unsolicited%20data%0A%23%20with%20the%20iSCSI%20command%20packet%29%2C%20uncomment%20the%20following%20line%3A%0A%23%0A%23%20The%20default%20is%20Yes%0Anode.session.iscsi.ImmediateData%20%3D%20Yes%0A%0A%23%20To%20specify%20the%20maximum%20number%20of%20unsolicited%20data%20bytes%20the%20initiator%0A%23%20can%20send%20in%20an%20iSCSI%20PDU%20to%20a%20target%2C%20edit%20the%20following%20line.%0A%23%0A%23%20The%20value%20is%20the%20number%20of%20bytes%20in%20the%20range%20of%20512%20to%20%282%5E24-1%29%20and%0A%23%20the%20default%20is%20262144%0Anode.session.iscsi.FirstBurstLength%20%3D%20262144%0A%0A%23%20To%20specify%20the%20maximum%20SCSI%20payload%20that%20the%20initiator%20will%20negotiate%0A%23%20with%20the%20target%20for%2C%20edit%20the%20following%20line.%0A%23%0A%23%20The%20value%20is%20the%20number%20of%20bytes%20in%20the%20range%20of%20512%20to%20%282%5E24-1%29%20and%0A%23%20the%20defauls%20it%2016776192%0Anode.session.iscsi.MaxBurstLength%20%3D%2016776192%0A%0A%23%20To%20specify%20the%20maximum%20number%20of%20data%20bytes%20the%20initiator%20can%20receive%0A%23%20in%20an%20iSCSI%20PDU%20from%20a%20target%2C%20edit%20the%20following%20line.%0A%23%0A%23%20The%20value%20is%20the%20number%20of%20bytes%20in%20the%20range%20of%20512%20to%20%282%5E24-1%29%20and%0A%23%20the%20default%20is%20262144%0Anode.conn%5B0%5D.iscsi.MaxRecvDataSegmentLength%20%3D%20262144%0A%0A%23%20To%20specify%20the%20maximum%20number%20of%20data%20bytes%20the%20initiator%20will%20send%0A%23%20in%20an%20iSCSI%20PDU%20to%20the%20target%2C%20edit%20the%20following%20line.%0A%23%0A%23%20The%20value%20is%20the%20number%20of%20bytes%20in%20the%20range%20of%20512%20to%20%282%5E24-1%29.%0A%23%20Zero%20is%20a%20special%20case.%20If%20set%20to%20zero%2C%20the%20initiator%20will%20use%0A%23%20the%20target%27s%20MaxRecvDataSegmentLength%20for%20the%20MaxXmitDataSegmentLength.%0A%23%20The%20default%20is%200.%0Anode.conn%5B0%5D.iscsi.MaxXmitDataSegmentLength%20%3D%200%0A%0A%23%20To%20specify%20the%20maximum%20number%20of%20data%20bytes%20the%20initiator%20can%20receive%0A%23%20in%20an%20iSCSI%20PDU%20from%20a%20target%20during%20a%20discovery%20session%2C%20edit%20the%0A%23%20following%20line.%0A%23%0A%23%20The%20value%20is%20the%20number%20of%20bytes%20in%20the%20range%20of%20512%20to%20%282%5E24-1%29%20and%0A%23%20the%20default%20is%2032768%0A%23%0Adiscovery.sendtargets.iscsi.MaxRecvDataSegmentLength%20%3D%2032768%0A%0A%23%20To%20allow%20the%20targets%20to%20control%20the%20setting%20of%20the%20digest%20checking%2C%0A%23%20with%20the%20initiator%20requesting%20a%20preference%20of%20enabling%20the%20checking%2C%20uncomment%0A%23%20the%20following%20lines%20%28Data%20digests%20are%20not%20supported.%29%3A%0A%23node.conn%5B0%5D.iscsi.HeaderDigest%20%3D%20CRC32C%2CNone%0A%0A%23%0A%23%20To%20allow%20the%20targets%20to%20control%20the%20setting%20of%20the%20digest%20checking%2C%0A%23%20with%20the%20initiator%20requesting%20a%20preference%20of%20disabling%20the%20checking%2C%0A%23%20uncomment%20the%20following%20line%3A%0A%23node.conn%5B0%5D.iscsi.HeaderDigest%20%3D%20None%2CCRC32C%0A%23%0A%23%20To%20enable%20CRC32C%20digest%20checking%20for%20the%20header%20and/or%20data%20part%20of%0A%23%20iSCSI%20PDUs%2C%20uncomment%20the%20following%20line%3A%0A%23node.conn%5B0%5D.iscsi.HeaderDigest%20%3D%20CRC32C%0A%23%0A%23%20To%20disable%20digest%20checking%20for%20the%20header%20and/or%20data%20part%20of%0A%23%20iSCSI%20PDUs%2C%20uncomment%20the%20following%20line%3A%0A%23node.conn%5B0%5D.iscsi.HeaderDigest%20%3D%20None%0A%23%0A%23%20The%20default%20is%20to%20never%20use%20DataDigests%20or%20HeaderDigests.%0A%23%0Anode.conn%5B0%5D.iscsi.HeaderDigest%20%3D%20None%0A%0A%23%20For%20multipath%20configurations%2C%20you%20may%20want%20more%20than%20one%20session%20to%20be%0A%23%20created%20on%20each%20iface%20record.%20%20If%20node.session.nr_sessions%20is%20greater%0A%23%20than%201%2C%20performing%20a%20%27login%27%20for%20that%20node%20will%20ensure%20that%20the%0A%23%20appropriate%20number%20of%20sessions%20is%20created.%0Anode.session.nr_sessions%20%3D%201%0A%0A%23%20When%20iscsid%20starts%20up%20it%20recovers%20existing%20sessions%2C%20if%20possible.%0A%23%20If%20the%20target%20for%20a%20session%20has%20gone%20away%20when%20this%20occurs%2C%20the%0A%23%20iscsid%20daemon%20normally%20tries%20to%20reestablish%20each%20session%2C%0A%23%20in%20succession%2C%20in%20the%20background%2C%20by%20trying%20again%20every%20two%0A%23%20seconds%2C%20until%20all%20sessions%20are%20restored.%20This%20configuration%0A%23%20variable%20can%20limits%20the%20number%20of%20retries%20for%20each%20session.%0A%23%20For%20example%2C%20setting%20reopen_max%3D150%20would%20mean%20that%20each%20session%0A%23%20recovery%20was%20limited%20to%20about%20five%20minutes.%0A%23%0Anode.session.reopen_max%20%3D%200%0A%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%23%20Workarounds%0A%23%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%0A%23%20Some%20targets%20like%20IET%20prefer%20after%20an%20initiator%20has%20sent%20a%20task%0A%23%20management%20function%20like%20an%20ABORT%20TASK%20or%20LOGICAL%20UNIT%20RESET%2C%20that%0A%23%20it%20does%20not%20respond%20to%20PDUs%20like%20R2Ts.%20To%20enable%20this%20behavior%20uncomment%0A%23%20the%20following%20line%20%28The%20default%20behavior%20is%20Yes%29%3A%0Anode.session.iscsi.FastAbort%20%3D%20Yes%0A%0A%23%20Some%20targets%20like%20Equalogic%20prefer%20that%20after%20an%20initiator%20has%20sent%0A%23%20a%20task%20management%20function%20like%20an%20ABORT%20TASK%20or%20LOGICAL%20UNIT%20RESET%2C%20that%0A%23%20it%20continue%20to%20respond%20to%20R2Ts.%20To%20enable%20this%20uncomment%20this%20line%0A%23%20node.session.iscsi.FastAbort%20%3D%20No%0A%0A%23%20To%20prevent%20doing%20automatic%20scans%20that%20would%20add%20unwanted%20luns%20to%20the%20system%0A%23%20we%20can%20disable%20them%20and%20have%20sessions%20only%20do%20manually%20requested%20scans.%0A%23%20Automatic%20scans%20are%20performed%20on%20startup%2C%20on%20login%2C%20and%20on%20AEN/AER%20reception%0A%23%20on%20devices%20supporting%20it.%20%20For%20HW%20drivers%20all%20sessions%20will%20use%20the%20value%0A%23%20defined%20in%20the%20configuration%20file.%20%20This%20configuration%20option%20is%20independent%0A%23%20of%20scsi_mod%20scan%20parameter.%20%28The%20default%20behavior%20is%20auto%29%3A%0Anode.session.scan%20%3D%20manual%0A
          verification: {}
        filesystem: root
        mode: 384
        path: /etc/iscsi/iscsid.conf
      - contents:
          source: data:text/plain;charset=utf-8;base64,IyBkZXZpY2UtbWFwcGVyLW11bHRpcGF0aCBjb25maWd1cmF0aW9uIGZpbGUKCiMgRm9yIGEgY29tcGxldGUgbGlzdCBvZiB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIHZhbHVlcywgcnVuIGVpdGhlcjoKIyAjIG11bHRpcGF0aCAtdAojIG9yCiMgIyBtdWx0aXBhdGhkIHNob3cgY29uZmlnCgojIEZvciBhIGxpc3Qgb2YgY29uZmlndXJhdGlvbiBvcHRpb25zIHdpdGggZGVzY3JpcHRpb25zLCBzZWUgdGhlCiMgbXVsdGlwYXRoLmNvbmYgbWFuIHBhZ2UuCgpkZWZhdWx0cyB7CiAgICAgICAgdXNlcl9mcmllbmRseV9uYW1lcyB5ZXMKICAgICAgICBmaW5kX211bHRpcGF0aHMgeWVzCn0KCmJsYWNrbGlzdF9leGNlcHRpb25zIHsKICAgICAgICBwcm9wZXJ0eSAiKFNDU0lfSURFTlRffElEX1dXTikiCn0KCmJsYWNrbGlzdCB7Cn0K
          verification: {}
        filesystem: root
        mode: 384
        path: /etc/multipath.conf
    systemd:
      units:
      - enabled: true
        name: multipathd.service
      - enabled: true
        name: iscsid.service
      - enabled: true
        name: iscsi.service
